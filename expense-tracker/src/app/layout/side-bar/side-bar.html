<aside class="h-screen w-46 bg-slate-900 text-slate-200 flex flex-col">
  <!-- Logo -->
  <!-- <div class="px-6 py-4 text-xl font-semibold border-b border-slate-700">Expense Tracker</div> -->

  <!-- Menu -->
  <nav class="flex-1 px-2 py-4 space-y-1">
    @for (item of menu;let i=$index; track $index;) {
    <ng-container>
      <!-- Parent with children -->
      @if (item.children) {
      <div>
        <button
          (click)="toggle(i)"
          class="w-full flex items-center justify-between px-4 py-2 rounded-md hover:bg-slate-800 transition"
        >
          <span class="flex items-center gap-3">
            <i class="lucide {{ item.icon }}"></i>
            {{ item.label }}
          </span>
          <span class="transition-transform" [class.rotate-180]="openIndex() === i"> <mat-icon>keyboard_arrow_down</mat-icon> </span>
        </button>

        @if (openIndex() === i) {
  <div class="ml-6 mt-1 space-y-1">
    @for (child of item.children; track $index) {
      <a
        [routerLink]="child.route"
        routerLinkActive="bg-slate-800 text-white"
        class="block px-4 py-2 rounded-md text-sm hover:bg-slate-800"
      >
        {{ child.label }}
      </a>
    }
  </div>
}

      </div>
      } @else {

      <!-- Single link -->
      <ng-template #singleLink>
        <a
          [routerLink]="item.route"
          routerLinkActive="bg-slate-800 text-white"
          class="flex items-center gap-3 px-4 py-2 rounded-md hover:bg-slate-800 transition"
        >
          <i class="lucide {{ item.icon }}"></i>
          {{ item.label }}
        </a>
      </ng-template>
      }
    </ng-container>
    }
  </nav>

  <!-- Footer -->
  <div class="px-4 py-3 text-xs text-slate-400 border-t border-slate-700">
    Â© 2025 Expense Tracker
  </div>
</aside>
